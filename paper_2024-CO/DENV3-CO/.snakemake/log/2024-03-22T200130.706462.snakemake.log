Building DAG of jobs...
Using shell: /bin/bash
Provided cores: 4
Rules claiming more threads will be scaled down.
Job stats:
job          count
---------  -------
align            1
all              1
ancestral        1
export           1
filter           1
refine           1
traits           1
translate        1
tree             1
total            9

Select jobs to execute...

[Fri Mar 22 20:01:30 2024]
Job 5: 
        Filtering to
          - 1 sequence(s) per Location year
        
Reason: Missing output files: results/filtered.fasta


        augur filter             --sequences data/sequences.fasta             --sequence-index results/sequence_index.tsv             --metadata data/metadata.tsv             --output results/filtered.fasta             --group-by Location year             --sequences-per-group 1         
[Fri Mar 22 20:01:31 2024]
Finished job 5.
1 of 9 steps (11%) done
Select jobs to execute...

[Fri Mar 22 20:01:31 2024]
Job 4: 
        Aligning sequences to config/d3_refseq.gb
          - filling gaps with N
        
Reason: Missing output files: results/aligned.fasta; Input files updated by another job: results/filtered.fasta; Set of input files has changed since last execution


        augur align             --sequences results/filtered.fasta             --reference-sequence config/d3_refseq.gb             --output results/aligned.fasta             --fill-gaps
        
[Fri Mar 22 20:03:50 2024]
Finished job 4.
2 of 9 steps (22%) done
Select jobs to execute...

[Fri Mar 22 20:03:50 2024]
Job 3: Building tree
Reason: Missing output files: results/tree_raw.nwk; Input files updated by another job: results/aligned.fasta


        augur tree             --alignment results/aligned.fasta             --output results/tree_raw.nwk
        
[Fri Mar 22 20:05:18 2024]
Finished job 3.
3 of 9 steps (33%) done
Select jobs to execute...

[Fri Mar 22 20:05:18 2024]
Job 2: 
        Refining tree
          - estimate timetree
          - use opt coalescent timescale
          - estimate marginal node dates
          - filter tips more than 4 IQDs from clock expectation
        
Reason: Missing output files: results/tree.nwk, results/branch_lengths.json; Input files updated by another job: results/tree_raw.nwk, results/aligned.fasta


        augur refine             --tree results/tree_raw.nwk             --alignment results/aligned.fasta             --metadata data/metadata.tsv             --output-tree results/tree.nwk             --output-node-data results/branch_lengths.json             --timetree             --coalescent opt             --date-confidence             --date-inference marginal             --clock-filter-iqd 4
        
[Fri Mar 22 20:06:42 2024]
Finished job 2.
4 of 9 steps (44%) done
Select jobs to execute...

[Fri Mar 22 20:06:42 2024]
Job 7: Inferring ancestral traits for Location Sero_Geno Lineage
Reason: Missing output files: results/traits.json; Input files updated by another job: results/tree.nwk


        augur traits             --tree results/tree.nwk             --metadata data/metadata.tsv             --output-node-data results/traits.json             --columns Location Sero_Geno Lineage             --confidence
        

[Fri Mar 22 20:06:42 2024]
Job 8: Reconstructing ancestral sequences and mutations
Reason: Missing output files: results/nt_muts.json; Input files updated by another job: results/tree.nwk, results/aligned.fasta


        augur ancestral             --tree results/tree.nwk             --alignment results/aligned.fasta             --output-node-data results/nt_muts.json             --inference joint
        
[Fri Mar 22 20:06:46 2024]
Finished job 8.
5 of 9 steps (56%) done
Select jobs to execute...

[Fri Mar 22 20:06:46 2024]
Job 9: Translating amino acid sequences
Reason: Missing output files: results/aa_muts.json; Input files updated by another job: results/tree.nwk, results/nt_muts.json


        augur translate             --tree results/tree.nwk             --ancestral-sequences results/nt_muts.json             --reference-sequence config/d3_refseq.gb             --output-node-data results/aa_muts.json         
[Fri Mar 22 20:06:47 2024]
Finished job 9.
6 of 9 steps (67%) done
[Fri Mar 22 20:06:50 2024]
Finished job 7.
7 of 9 steps (78%) done
Select jobs to execute...

[Fri Mar 22 20:06:50 2024]
Job 1: Exporting data files for for auspice
Reason: Missing output files: auspice/d3.json; Input files updated by another job: results/nt_muts.json, results/branch_lengths.json, results/aa_muts.json, results/tree.nwk, results/traits.json


        augur export v2             --tree results/tree.nwk             --metadata data/metadata.tsv             --node-data results/branch_lengths.json results/traits.json results/nt_muts.json results/aa_muts.json             --colors config/colors.tsv             --lat-longs config/lat_longs.tsv             --auspice-config config/auspice_config.json             --include-root-sequence             --output auspice/d3.json
        
[Fri Mar 22 20:06:51 2024]
Finished job 1.
8 of 9 steps (89%) done
Select jobs to execute...

[Fri Mar 22 20:06:51 2024]
localrule all:
    input: auspice/d3.json
    jobid: 0
    reason: Input files updated by another job: auspice/d3.json
    resources: tmpdir=/tmp

[Fri Mar 22 20:06:51 2024]
Finished job 0.
9 of 9 steps (100%) done
Complete log: .snakemake/log/2024-03-22T200130.706462.snakemake.log
